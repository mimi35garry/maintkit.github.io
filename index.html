<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Site Web</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0078d7">
</head>
<body>
        <button id="sidebarToggle" aria-label="Ouvrir le menu" style="position:fixed;top:1rem;left:1rem;z-index:1100;background:#0078d7;border:none;border-radius:4px;padding:0.5rem 0.7rem;color:#fff;font-size:1.5rem;cursor:pointer;">
            &#9776;
        </button>
        <nav id="sidebar" class="sidebar">
            <button id="sidebarClose" aria-label="Fermer le menu">&times;</button>
            <ul>
                <li><a href="#">Accueil</a></li>
                <li><a href="#">À propos</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
        <div id="overlay" class="sidebar-overlay"></div>
        <h1>MaintKit</h1>
        <button id="addEquipBtn" style="position:fixed;bottom:2rem;right:2rem;z-index:1050;background:#0078d7;color:#fff;border:none;border-radius:50%;width:56px;height:56px;font-size:2rem;box-shadow:0 2px 8px rgba(0,0,0,0.15);cursor:pointer;">+</button>
        <div id="equipModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeModal">&times;</span>
                <h2>Ajouter un équipement</h2>
                <form id="equipForm">
                    <label for="equipNom">Nom :</label>
                    <input type="text" id="equipNom" name="nom" required>
                    <label for="equipRef">Référence :</label>
                    <input type="text" id="equipRef" name="reference" required>
                    <label for="equipType">Type :</label>
                    <select id="equipType" name="type" required>
                        <option value="capteur">Capteur</option>
                        <option value="moteur">Moteur</option>
                        <option value="variateur">Variateur</option>
                        <option value="automate">Automate</option>
                        <option value="module de sécurité">Module de sécurité</option>
                        <option value="autre">Autre...</option>
                    </select>
                    <input type="text" id="equipTypeOther" placeholder="Précisez le type" style="display:none;margin-top:0.5rem;">
                    <label for="equipStatus">Statut :</label>
                    <select id="equipStatus" name="status" required>
                        <option value="Actif">Actif</option>
                        <option value="Inactif">Inactif</option>
                    </select>
                    <label for="equipBrand">Marque :</label>
                    <input type="text" id="equipBrand" name="marque" required>
                    <label for="equipLink">Lien :</label>
                    <input type="url" id="equipLink" name="lien" placeholder="https://...">
                    <button type="submit">Ajouter</button>
                </form>
            </div>
        </div>
        <div id="editEquipModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeEditModal">&times;</span>
                <h2>Modifier l'équipement</h2>
                <form id="editEquipForm">
                    <label for="editEquipNom">Nom :</label>
                    <input type="text" id="editEquipNom" name="nom" required>
                    <label for="editEquipRef">Référence :</label>
                    <input type="text" id="editEquipRef" name="reference" required>
                    <label for="editEquipType">Type :</label>
                    <select id="editEquipType" name="type" required>
                        <option value="capteur">Capteur</option>
                        <option value="moteur">Moteur</option>
                        <option value="variateur">Variateur</option>
                        <option value="automate">Automate</option>
                        <option value="module de sécurité">Module de sécurité</option>
                        <option value="autre">Autre...</option>
                    </select>
                    <input type="text" id="editEquipTypeOther" placeholder="Précisez le type" style="display:none;margin-top:0.5rem;">
                    <label for="editEquipStatus">Statut :</label>
                    <select id="editEquipStatus" name="status" required>
                        <option value="Actif">Actif</option>
                        <option value="Inactif">Inactif</option>
                    </select>
                    <label for="editEquipBrand">Marque :</label>
                    <input type="text" id="editEquipBrand" name="marque" required>
                    <label for="editEquipLink">Lien :</label>
                    <input type="url" id="editEquipLink" name="lien" placeholder="https://...">
                    <button type="submit">Enregistrer</button>
                </form>
            </div>
        </div>
        <h2>Liste des équipements</h2>
    <table id="equipTable" style="width:100%;max-width:700px;margin:2rem auto 0 auto;border-collapse:collapse;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,0.06);">
        <thead>
            <tr style="background:#e6f0fa;">
                <th style="padding:0.7rem;border-bottom:1px solid #ccc;">Nom</th>
                <th style="padding:0.7rem;border-bottom:1px solid #ccc;">Référence</th>
                <th style="padding:0.7rem;border-bottom:1px solid #ccc;">Type</th>
                <th style="padding:0.7rem;border-bottom:1px solid #ccc;">Marque</th>
                <th style="padding:0.7rem;border-bottom:1px solid #ccc;"> </th>
            </tr>
        </thead>
        <tbody id="equipTableBody">
            <!-- Les équipements ajoutés s'afficheront ici -->
        </tbody>
    </table>
        <script src="script.js"></script>
        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('sw.js');
                });
            }
        </script>
    </body>
</html>
